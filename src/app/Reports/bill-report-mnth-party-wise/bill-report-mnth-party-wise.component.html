

<div class="">

    <div class=" container-fluid  justify-content-between d-flex bg-white p-2 border-bottom">

        <mat-form-field class="w-50 me-3" appearance="outline">
           <mat-label>Select Customer</mat-label>
           <mat-select [(ngModel)]="customerID">
            <mat-option><ngx-mat-select-search [(ngModel)]="customerSearch"
                [placeholderLabel]="'Search...'" [noEntriesFoundLabel]="'Not found'"
                name="search"></ngx-mat-select-search></mat-option>
            <mat-option *ngFor="let item of customerList | filter:customerSearch" [value]="item.partyID">{{item.partyName}}</mat-option>
           </mat-select>
        </mat-form-field>

        <mat-form-field class="w-25" appearance="outline">
            <mat-label>To Date</mat-label>
            <input matInput type="text" readonly="true" [(ngModel)]="toDate" [matDatepicker]="eDate">
            <mat-datepicker-toggle matSuffix [for]="eDate"></mat-datepicker-toggle>
            <mat-datepicker #eDate></mat-datepicker>
        </mat-form-field>


        <div class="w-25  text-center">
            <button class="fw-bold btn btn-success me-1 border-0 justify-content-bottom   " (click)="getReport()">
                <mat-icon>insert_drive_file</mat-icon>Get Report
            </button>

        
            <button class="fw-bold btn  btn-primary border-0  justify-content-bottom" (click)="PrintTable()">
                <mat-icon>print</mat-icon>Print
            </button>
        </div>
    </div>


    
   <div id="printRpt">

     <!-------------------------    Top Logo Section -------------------->
     <div class="hide">
        <div class="text-center border-bottom d-flex justify-content-between">
            <span>
                <img src="{{logo}}" style="color: black;" alt="" srcset="" height="150"
                    width="150">
            </span>
            <span class="mt-3">
                

                <h1 class="cmpnyName">{{companyName}}</h1>
                <h5 style="margin-top: -15px;" class="text-end col-lg-10">{{companyName2}}</h5>

                <h1 class="rptTitle">Bill Report ( {{customerName}} )</h1>
                
                <h4 style="margin-top:-5px">{{toDate | date:'MM - yyyy' }}</h4>
              
            </span>
            <span>
                <img src="{{logo1}}" style="color: black;" alt="" srcset="" height="150"
                    width="150">
            </span>
    
    
        </div>
       </div>


    
    <div class="container-fluid">
        <table class="table">
            <thead>
                <th>S#</th>
                <th>Bill No</th>
                <th style="width: 200px;">Date</th>
                <th>Shop Title</th>
                <th>Party Name</th>
                <th class="text-end">Rent</th>
                <th class="text-end">CAM</th>
                <th class="text-end">HVAC</th>
                <th class="text-end">Wapda</th>
                <th class="text-end">Gen</th>
                <th class="text-end">Gas</th>
                <th class="text-end">Comm</th>
                <th class="text-end">Other</th>
                <th class="text-end">Total</th>
            </thead>
            <tbody>
                <tr *ngFor="let item of tableData ; index as i">
                    <td>{{i+1}}</td>
                    <td>{{item.billNo}}</td>
                    <td>{{item.billDate |date:'yyyy-MM-dd'}}</td>
                    <td>{{item.shopTitle}}</td>
                    <td>{{item.partyName}}</td>
                    <td class="text-end">{{item.rentCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.camCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.hvacCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.wapdaCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.generatorCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.gasCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.commissionCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.otherServiceCharges |number:'1.0-0'}}</td>
                    <td class="text-end">{{item.charges |number:'1.0-0'}}</td>
                </tr>
                <tr>
                    <th colspan="5"></th>
                    <th class="text-end">{{RentTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{camTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{hvacTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{WapdaTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{generatorTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{gasTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{CommissionTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{otherTotal |number:'1.0-0'}}</th>
                    <th class="text-end">{{chargesTotal |number:'1.0-0'}}</th>
                </tr>
            </tbody>
        </table>
    </div>
   </div>
    
</div>

